{"ast":null,"code":"import API_BASE_URL from '../config/api';\n\n// Helper function to add session authentication to fetch requests\nexport const fetchWithAuth = async (url, options = {}) => {\n  try {\n    console.log(`Fetching with session auth: ${url}`);\n\n    // Prepare headers\n    const headers = {\n      ...options.headers,\n      'Content-Type': 'application/json'\n    };\n\n    // Always use session-based authentication\n    return fetch(url, {\n      ...options,\n      credentials: 'include',\n      // Include cookies for session auth\n      headers\n    });\n  } catch (error) {\n    console.error('Error in fetchWithAuth:', error);\n    throw error;\n  }\n};\n\n// Dummy function for backward compatibility\nexport const refreshCsrfToken = async () => {\n  return true;\n};","map":{"version":3,"names":["API_BASE_URL","fetchWithAuth","url","options","console","log","headers","fetch","credentials","error","refreshCsrfToken"],"sources":["C:/Users/Radiance_Tech/Desktop/calendar-app/client/src/utils/api.js"],"sourcesContent":["import API_BASE_URL from '../config/api';\n\n// Helper function to add session authentication to fetch requests\nexport const fetchWithAuth = async (url, options = {}) => {\n  try {\n    console.log(`Fetching with session auth: ${url}`);\n\n    // Prepare headers\n    const headers = {\n      ...options.headers,\n      'Content-Type': 'application/json',\n    };\n\n    // Always use session-based authentication\n    return fetch(url, {\n      ...options,\n      credentials: 'include',  // Include cookies for session auth\n      headers\n    });\n  } catch (error) {\n    console.error('Error in fetchWithAuth:', error);\n    throw error;\n  }\n};\n\n// Dummy function for backward compatibility\nexport const refreshCsrfToken = async () => {\n  return true;\n};\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,eAAe;;AAExC;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACxD,IAAI;IACFC,OAAO,CAACC,GAAG,CAAC,+BAA+BH,GAAG,EAAE,CAAC;;IAEjD;IACA,MAAMI,OAAO,GAAG;MACd,GAAGH,OAAO,CAACG,OAAO;MAClB,cAAc,EAAE;IAClB,CAAC;;IAED;IACA,OAAOC,KAAK,CAACL,GAAG,EAAE;MAChB,GAAGC,OAAO;MACVK,WAAW,EAAE,SAAS;MAAG;MACzBF;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EAC1C,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}