{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Radiance_Tech\\\\Desktop\\\\calendar-app\\\\client\\\\src\\\\components\\\\CalendarGrid.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport EventItem from './EventItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CalendarGrid() {\n  _s();\n  const {\n    user,\n    timezone\n  } = useAuth();\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const res = await fetch(`http://localhost:5000/api/availability?timezone=${timezone}`, {\n          credentials: 'include'\n        });\n        const data = await res.json();\n        setEvents(groupEventsByDay(data));\n      } catch (error) {\n        console.error('Error fetching events:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (user) fetchEvents();\n  }, [user, timezone]);\n  const groupEventsByDay = events => {\n    return events.reduce((acc, event) => {\n      const date = new Date(event.start.dateTime);\n      const dateString = date.toLocaleDateString('en-US', {\n        weekday: 'long',\n        month: 'short',\n        day: 'numeric',\n        timeZone: timezone\n      });\n      if (!acc[dateString]) acc[dateString] = [];\n      acc[dateString].push(event);\n      return acc;\n    }, {});\n  };\n  const formatTime = isoString => {\n    return new Date(isoString).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true,\n      timeZone: timezone\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading calendar...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 23\n  }, this);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Please login to view calendar\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-grid\",\n    children: Object.entries(events).map(([date, dayEvents]) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"day-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"day-header\",\n        children: date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), dayEvents.map(event => /*#__PURE__*/_jsxDEV(EventItem, {\n        title: event.summary,\n        start: formatTime(event.start.dateTime),\n        end: formatTime(event.end.dateTime)\n      }, event.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this))]\n    }, date, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(CalendarGrid, \"ePggts8bZfLNDRLDW6nOnxeF5qk=\", false, function () {\n  return [useAuth];\n});\n_c = CalendarGrid;\nvar _c;\n$RefreshReg$(_c, \"CalendarGrid\");","map":{"version":3,"names":["useState","useEffect","useAuth","EventItem","jsxDEV","_jsxDEV","CalendarGrid","_s","user","timezone","events","setEvents","loading","setLoading","fetchEvents","res","fetch","credentials","data","json","groupEventsByDay","error","console","reduce","acc","event","date","Date","start","dateTime","dateString","toLocaleDateString","weekday","month","day","timeZone","push","formatTime","isoString","toLocaleTimeString","hour","minute","hour12","children","fileName","_jsxFileName","lineNumber","columnNumber","className","Object","entries","map","dayEvents","title","summary","end","id","_c","$RefreshReg$"],"sources":["C:/Users/Radiance_Tech/Desktop/calendar-app/client/src/components/CalendarGrid.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport EventItem from './EventItem';\r\n\r\nexport default function CalendarGrid() {\r\n  const { user, timezone } = useAuth();\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          `http://localhost:5000/api/availability?timezone=${timezone}`,\r\n          { credentials: 'include' }\r\n        );\r\n        const data = await res.json();\r\n        setEvents(groupEventsByDay(data));\r\n      } catch (error) {\r\n        console.error('Error fetching events:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (user) fetchEvents();\r\n  }, [user, timezone]);\r\n\r\n  const groupEventsByDay = (events) => {\r\n    return events.reduce((acc, event) => {\r\n      const date = new Date(event.start.dateTime);\r\n      const dateString = date.toLocaleDateString('en-US', {\r\n        weekday: 'long',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        timeZone: timezone\r\n      });\r\n      if (!acc[dateString]) acc[dateString] = [];\r\n      acc[dateString].push(event);\r\n      return acc;\r\n    }, {});\r\n  };\r\n\r\n  const formatTime = (isoString) => {\r\n    return new Date(isoString).toLocaleTimeString('en-US', {\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      hour12: true,\r\n      timeZone: timezone\r\n    });\r\n  };\r\n\r\n  if (loading) return <div>Loading calendar...</div>;\r\n  if (!user) return <div>Please login to view calendar</div>;\r\n\r\n  return (\r\n    <div className=\"calendar-grid\">\r\n      {Object.entries(events).map(([date, dayEvents]) => (\r\n        <div key={date} className=\"day-column\">\r\n          <div className=\"day-header\">{date}</div>\r\n          {dayEvents.map((event) => (\r\n            <EventItem\r\n              key={event.id}\r\n              title={event.summary}\r\n              start={formatTime(event.start.dateTime)}\r\n              end={formatTime(event.end.dateTime)}\r\n            />\r\n          ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}